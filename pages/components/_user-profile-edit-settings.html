    {$data = json_decode($minisite.footer_data, True)}

{$profile = $scope.profile}

<div class="mt20">
    <a href="https://vimeo.com/482446178" class="btn btn-info button-large popup-iframe" data-effect="mfp-fade"><i class="fa fa-play-circle"></i>Profile Basic Tutorial</a>
</div><br>
<form id="user_profile_form" class="ajax-submit" data-handler="save-profile" data-toggle="validator" data-reload_link="#user-verification-link">
            <!-- <input type="hidden" name="obj_type" value="user_profile" /> -->
    <input type="hidden" name="obj_id"  value="{$profile.profile_id}" />
    <input type="hidden" name="user_id" id="user_id" value="{$profile.user_id}" />
    <input type="hidden" name="site_id" value="{$site.id}" />
    <input type="hidden" name="client_id" value="{$profile.client_id}" />
    <input type="hidden" name="page"  value="profile" />
    <input type="hidden" name="address_show_status" value="1" />
    <input type="hidden" name="address_formatted" id="address_formatted" value="" />

    <input type="hidden" name="address_show_status" id="address_show_status" value="{$profile.address_show_status}" />

    <input hidden="1" name="next_tab" type="hidden" value="about">  

    <div class="row">              
        <div class="col-sm-6">
            <label for="first_name" class="control-label">First Name</label>
            <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-user"></i></span>
                <input name="first_name" id="first_name" class="form-control" value="{$scope.profile.first_name}" type="text" required/>
            </div>         
        </div>      
        <div class="col-sm-6">
            <label for="last_name" class="control-label">Last Name</label>
            <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-user"></i></span>
                <input name="last_name" id="last_name" class="form-control" value="{$scope.profile.last_name}" type="text" required />
            </div>         
        </div>      
    </div>
                
    <div class="row mt20">
        <div class="col-sm-6">
            <label for="display_name" class="control-label">Display Name</label>
            <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-user"></i></span>
                <input name="display_name" id="display_name" class="form-control" value="{$scope.profile.display_name}" type="text" />
            </div>         
        </div>      
        <div class="col-sm-6">
            <label for="email_address">Email<span class="optional">(Optional)</span></label>
            <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-envelope"></i></span>
                <input name="email_address" id="email_address" class="form-control" value="{$scope.profile.email_address}" type="email" required />
            </div>         
        </div>      
    </div>

    <div class="row mt20">
        <div class="col-sm-6">
            <label>Date of birth<span class="optional">(Optional)</span></label>
            <div class="input-group">
                <input type="text" id="date_of_birth" value="{date("d-m-Y", strtotime($scope.profile.date_of_birth))}" class="form-control datepicker" name="date_of_birth" placeholder="Date of birth" readonly="true">
                <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
            </div>
        <!--div class="help-block with-errors">Whole Number</div-->                          
        </div>
        <div class="col-sm-3">
            <label for="Mobile">Mobile<span class="optional">(Optional)</span></label>
            <div class="form-group">
                <input name="mobile" id="mobile" class="form-control" value ="{$scope.profile.mobile}" type="tel" />
            </div>         
        </div> 
        <div class="col-sm-3">
            <label for="Mobile">Fax<span class="optional">(Optional)</span></label>
            <div class="form-group">
                <input name="fax" id="fax" class="form-control" value ="{$scope.profile.fax}" type="tel" />
            </div>         
        </div> 
        <!-- <div class="col-sm-6">
        <label>Gallery Name</label>
        <div class="input-group">
        <span class="input-group-addon"><i class="fa fa-user"></i></span>
        <input name="gallery_name" id="gallery_name" class="form-control" value="{$scope.profile.gallery_name}" type="text"  />
        </div>
        </div> -->
    </div>
                
    <div class="row mt20">
        <div class="col-sm-6">
            <label for="phone">Phone<span class="optional">(Optional)</span></label>
            <div class="form-group">
                <input name="phone" id="phone" class="form-control" value="{$scope.profile.phone}" type="tel" />
            </div>         
        </div>      
        <div class="col-sm-6">
            <label for="languages">Which languages do you speak?<span class="optional">(Optional)</span></label>
            <div class="form-group">
                <div id="language-tag-list" class="tag-list" data-langs="{$scope.profile.languages}"></div>                  
                    <input name="languages" id="languages" class="form-control" value="{$scope.profile.languages}" type="hidden" />
                </div>         
            </div>      
        </div>
                
        <div class="row mt20">
            <div class="form-group col-sm-6">
                <label>Timezone<span class="optional">(Optional)</span></label>                  
                <select name="timezone" id="timezone" data-value="{$scope.profile.timezone}" 
                    class="form-control auto-select" autofocus="autofocus" autocorrect="off" autocomplete="off">
                    <option value="">Select a timezone...</option>
                    {{"include": "_timezones.html"}}
                </select>
            </div>

            {if ($site.gallery_site)}
                <div class="col-sm-6">
                    <label for="url_web">Website<span class="optional">(Optional)</span></label>
                    <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-globe"></i></span>
                        <input name="url_web" id="url_web" class="form-control" value="{$scope.profile.url_web}" type="url" />
                    </div>         
                    <div class="help-block with-errors">Full URL including http:// or https://</div>
                </div>      
            {/if}
        </div>    

        <!-- <input type="hidden" name="location_lat"  value="{$profile.location_lat}" />
        <input type="hidden" name="location_long"  value="{$profile.location_long}" />
        <input type="hidden" name="location_bounds"  value="{$profile.location_bounds}" />
        <input type="hidden" name="location_center"  value="{$profile.location_center}" />
        <input type="hidden" name="address_street"  value="{$profile.address_street}" />
        <input type="hidden" name="address_number"  value="{$profile.address_number}" />
        <input type="hidden" name="address_city"  value="{$profile.address_city}" />
        <input type="hidden" name="address_state"  value="{$profile.address_state}" />
        <input type="hidden" name="address_country"  value="{$profile.address_country}" />
        <input type="hidden" name="address_formatted"  value="{$profile.address_formatted}" /> -->

        <div class="row mb20">
            <div class="col-xs-6">
                <label for="profile-address">{'address'|translate:'c'}<span class="optional">(Optional)</span></label>
                <div class="input-group">
                    <span class="input-group-addon"><i class="fa fa-map-marker"></i></span>
                    <input name="profile-address"  class="form-control geocomplete" placeholder="123 Main street, New York" 
                     type="text" id="formated_address" value="{$profile.address_formatted}"/>
                    {{"include": "_geocomplete-fields.html"}}                          
                </div>
            </div>
                <div class="col-xs-6">
                    <label for="profile-address">Show/Hide Address{$debug_loc} </label>
                    <div class="input-group">
                        <input type="checkbox" {if ($profile.address_show_status==1) } checked {/if} class="bootstrap-toggle" value="{$profile.sign_up_link_status}" name="sign_up_link_status" id="address-toggle" data-toggle="toggle" data-on="Show" data-off="Hide">
                        
                    </div>
                </div>

        </div> 
                                       
        <input type="submit"  class="btn btn-success" value="Save">            
</form>
             
{*
    <!--div class="form-group form-group-icon-left"><i class="fa fa-plane input-icon"></i>
      <label>Home Airport</label>
      <input class="form-control" value="London Heathrow Airport (LHR)" type="text" />
    </div-->
    <div class="form-group">
      <label>Street Address</label>
      <input name="address1" class="form-control" value="{$scope.profile.address1}" type="text" />
    </div>
    <div class="form-group">
      <label>City</label>
      <input name="city" class="form-control" value="{$scope.profile.city}" type="text" />
    </div>
    <div class="form-group">
      <label>State/Province/Region</label>
      <input name="state" class="form-control" value="{$scope.profile.state}" type="text" />
    </div>
    <div class="form-group">
      <label>ZIP code/Postal code</label>
      <input name="zip" class="form-control" value="{$scope.profile.zip}" type="text" />
    </div>
    <div class="form-group">
      <label>Country</label>
      <select name="country" data-value="{$scope.profile.country}" class="form-control auto-select" autofocus="autofocus" autocorrect="off" autocomplete="off">
        <option value=""></option>
        {{"include": "_countries.html"}}
      </select>
    </div>

*}
<script type="text/javascript">
    
    $(document).ready(function(){
        var address_status=$('#address_show_status').val();
        console.log('address_show_status'+$('#address_show_status').val());

        $('#address-toggle').change(function() {
            if(this.checked != true)
                $('#address_show_status').val(0);
            else
                $('#address_show_status').val(1);
            console.log(address_show_status);

        });   

        var arr = new Array();

        var existing_languages=$("#languages").val().split(",");
        for (i = 0; i < existing_languages.length; i++) {
            if(arr.indexOf(existing_languages[i]) === -1 )
                arr.push(existing_languages[i]);
        }
        // console.log(a.split(","));
        $(document).on('click', '.tags-suggestion', function () {
            
            // $('.languagess').value=arr;
            // $('[name=languagess]').val(arr); 
            var language=$(this).text();
            if(arr.indexOf(language) === -1 )
                arr.push(language);

            $("#languages").val(arr);
            console.log($("#languages").val());
        });
        $(document).on('click', '.remove', function () {
            var remove_arr = new Array();
            var language=$(this).parent().parent().children("span").text();
            remove_arr.push(language);
            arr=arr.filter(x => remove_arr.indexOf(x) === -1);
            $("#languages").val(arr);

            console.log($("#languages").val());

        });
    });

</script>

<!-- Latest compiled and minified CSS -->
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"> -->

<!-- jQuery library -->
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> -->

<!-- Latest compiled JavaScript -->
<!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script> -->